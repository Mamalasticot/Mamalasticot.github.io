
(function(){'use strict';var instanceModalRss;KosmosUtils.i18n.init({path:'/jsp/scripts/lang/rss',component:'affichageRssModal',default:{ariaLabelCloseModal:'Fermer',lireArticleOrigine:'Lire l\'article d\'origine',titleNouvelleFenetre:'(nouvelle fenêtre)'}});function encodeContent(exposedContent){let spanEncoded=document.createElement('span');spanEncoded.innerText=exposedContent;return spanEncoded.innerHTML;}
var btnsTriggerRss=document.querySelectorAll('.js-rssModalTrigger');if(btnsTriggerRss){[].forEach.call(btnsTriggerRss,function(btn){btn.addEventListener('click',function(event){event.preventDefault();document.showModal({id:'jsModalRss'+event.target.getAttribute('data-rss-id'),overlay:true,width:700,MODAL_FERMER:KosmosUtils.i18n.affichageRssModal['ariaLabelCloseModal'],titleKey:encodeContent(event.target.getAttribute('data-rss-title-abonnement')),doBody:getBodyRssModal(event.target)},function postInit(newModal){instanceModalRss=newModal;});});});}
function getBodyRssModal(link){var body=document.createElement('div');var divSautLigne=document.createElement('div');divSautLigne.innerHTML='<br/>';var titre=document.createElement('div');titre.className='b-like';titre.innerHTML=link.getAttribute('data-rss-title');if(link.getAttribute('data-rss-date-heure')){var date=document.createElement('div');date.className='i-like';date.innerHTML=link.getAttribute('data-rss-date-heure');}
if(link.getAttribute('data-rss-description')){var contenu=document.createElement('div');contenu.innerHTML=link.getAttribute('data-rss-description');}
if(link.getAttribute('data-rss-auteur')){var auteur=document.createElement('div');auteur.className='i-like';auteur.innerHTML=link.getAttribute('data-rss-auteur');}
var divLien=document.createElement('div'),lien=document.createElement('a');divLien.className='text--right';lien.setAttribute('href',link.getAttribute('data-rss-href'));lien.setAttribute('target','_blank');lien.setAttribute('title',KosmosUtils.i18n.affichageRssModal['titleNouvelleFenetre']);lien.innerHTML=KosmosUtils.i18n.affichageRssModal['lireArticleOrigine'];divLien.appendChild(lien);var piecesJointes=document.getElementById('rss_enclosures_'+link.getAttribute('data-rss-id'));if(piecesJointes){var divPiecesJointes=document.createElement('div');divPiecesJointes.innerHTML=piecesJointes.innerHTML;}
if(link.getAttribute('data-rss-vignette-src')){var divRow=document.createElement('div');divRow.className='row';var divColGauche=document.createElement('div');divColGauche.className='col--xs-4';var divColDroite=document.createElement('div');divColDroite.className='col--xs-8';var vignette=document.createElement('img');vignette.className='media-responsive';vignette.setAttribute('src',link.getAttribute('data-rss-vignette-src'));vignette.setAttribute('alt',link.getAttribute('data-rss-vignette-src'));divColGauche.appendChild(vignette);divColDroite.appendChild(titre);if(date){divColDroite.appendChild(date);}
if(contenu){divColDroite.appendChild(contenu);}
if(auteur){divColDroite.appendChild(auteur);}
divColDroite.appendChild(divSautLigne);divColDroite.appendChild(divLien);divRow.appendChild(divColGauche);divRow.appendChild(divColDroite);body.appendChild(divRow);if(divPiecesJointes){body.appendChild(divPiecesJointes);}}else{body.appendChild(titre);if(date){body.appendChild(date);}
if(contenu){body.appendChild(contenu);}
if(auteur){body.appendChild(auteur);}
body.appendChild(divSautLigne);body.appendChild(divLien);if(divPiecesJointes){body.appendChild(divPiecesJointes);}}
return body.innerHTML;}})();;
